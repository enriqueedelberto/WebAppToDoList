<app-loading *ngIf="loading"></app-loading>

<div *ngIf="error" class="alert alert-danger animated fadeIn">
    <h3>Error</h3>
    <p>{{messageError}}</p>
</div>
<div class="row">
    <form (ngSubmit)="save(formulario)" #formulario="ngForm">
        <div class="form-row">
            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                <label for="inputEmail4">Code</label>
                <input [(ngModel)]="task.cd_task" name="cd_task" #cd_task="ngModel" required minlength="4" class="form-control" placeholder="">

                <div *ngIf="cd_task.errors?.required">
                    Code is required
                </div>
            </div>


            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                <label for="inputPassword4">Title</label>
                <input [(ngModel)]="task.title_task" name="title_task" #title_task="ngModel" required minlength="4" maxlength="30" type="text" class="form-control" placeholder="">
                <div *ngIf="title_task.errors?.required">
                    Title is required
                </div>

            </div>
        </div>
        <div class="form-group">
            <label for="inputAddress">Description</label>
            <textarea type="text" [(ngModel)]="task.desc_task" name="desc_task" class="form-control" placeholder="" maxlength="100"></textarea>
        </div>

        <div class="form-row">

            <div class="form-group col-lg-4 col-md-4">
                <label for="inputState">Status</label>
                <select id="inputState" class="form-control" [(ngModel)]="task.status_task" name="status_task">
           
          <option *ngFor="let status of lstStatuses ">{{status}}</option>
        </select>
            </div>

            <div class="form-group col-lg-4 col-md-4">
                <label for="inputState">Assign to</label>
                <select id="inputState" class="form-control" [(ngModel)]="task.cd_user" name="cd_user">
          
          <option *ngFor="let user of lstUsers " value="{{user.cd_user}}">{{user.nm_user}}</option>
        </select>
            </div>

        </div>
        <div class="form-row">
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                <button type="submit" class="btn btn-primary">Save</button></div>
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                <button (click)="goBack()" class="btn btn-primary">Cancel</button></div>
        </div>
    </form>

</div>